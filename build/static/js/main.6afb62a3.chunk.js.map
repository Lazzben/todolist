{"version":3,"sources":["component/todolist/TodoInput.jsx","component/todolist/TodoItem.jsx","config/leancloud.js","component/UserDiaLog/UserLogin.jsx","component/UserDiaLog/UserLogup.jsx","component/UserDiaLog/UserDiaLog.jsx","App.jsx","serviceWorker.js","index.js"],"names":["TodoInput","onSubmit","e","key","_this","props","react_default","a","createElement","input","placeholder","type","value","this","content","onChange","inputValue","onKeyPress","React","Component","TodoItem","id","completeTodo","className","es_checkbox","todo","description","icon","style","color","cursor","onClick","deleteTodo","AV","init","appId","appKey","todoModel","getByUser","user","successfn","errorfn","Query","find","then","response","console","log","array","map","t","Object","objectSpread","attributes","call","error","create","_ref","successFn","errorFn","completed","deleted","extend","set","acl","ACL","setPublicReadAccess","setWriteAccess","User","current","setReadAccess","setACL","save","update","_ref2","title","createWithoutData","undefined","destroy","todoId","getCurrentUser","getUserFromAVUser","AVUser","UserLogin","classCallCheck","possibleConstructorReturn","getPrototypeOf","onChangeLogInUserName","setState","acount","target","onChangeLogInPassword","password","signInSubmit","_this$state","state","username","logIn","loginedUser","signIn","userSignIn","code","alert","email","_this$state2","es_button","block","selectSignUp","UserLogUp","onChangeLogUpUserName","onChangeLogUpPassword","signUpSubmit","setUsername","setPassword","signUp","selectSignIn","UserDiaLog","selected","UserDiaLog_UserLogin","bind","UserLogup","App","newTodo","addTodo","todoList","push","stateCopy","JSON","parse","stringify","signOut","logOut","newtodos","todos","_this2","showTodo","showcompleteTodo","index","component_todolist_TodoItem","component_UserDiaLog_UserDiaLog","theme","todolist_TodoInput","filter","Boolean","window","location","hostname","match","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6afb62a3.chunk.js","sourcesContent":["import React from 'react'\r\nimport {Input} from 'antd'\r\n\r\nclass TodoInput extends React.Component {\r\n  onSubmit = (e) => {\r\n    if(e.key === \"Enter\"){\r\n      this.props.onSubmit(e)\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <Input placeholder=\"在这里输入代办事项，按回车提交\" type=\"text\" value={this.props.content} onChange={this.props.inputValue} onKeyPress={this.onSubmit}/>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TodoInput","import React from 'react'\r\nimport {Checkbox, Icon} from 'antd'\r\nimport './TodoItem.css'\r\n\r\nclass TodoItem extends React.Component {\r\n  onChange(id) {\r\n    this.props.completeTodo(id)\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"todoitem\">\r\n        <Checkbox onChange={()=>this.onChange(this.props.todo.id)}>{this.props.todo.description}</Checkbox>\r\n        <Icon type=\"close-circle\" style={{color:\"rgb(24,114,255)\",cursor:\"pointer\"}} onClick={()=>this.props.deleteTodo(this.props.todo.id)}/>\r\n      </div>\r\n      \r\n    )\r\n  }\r\n}\r\n\r\nexport default TodoItem","import AV from 'leancloud-storage'\r\n\r\nvar APP_ID = 'LDkpdb4bwEXfkKvfMgS6lfWo-gzGzoHsz'\r\nvar APP_KEY = 'f6BMgzFyGAxnT95EFbSpwkfC'\r\nAV.init({\r\n  appId: APP_ID,\r\n  appKey: APP_KEY\r\n})\r\n\r\nexport default AV\r\n\r\nexport const todoModel = {\r\n  getByUser(user, successfn, errorfn){\r\n    let query = new AV.Query('Todo')\r\n    query.find().then((response)=>{\r\n      console.log(response)\r\n      let array = response.map((t)=>{\r\n        return {id:t.id,...t.attributes}\r\n      })\r\n      successfn.call(null,array)\r\n    },(error)=>{\r\n      errorfn && errorfn.call(null,error)\r\n    })\r\n  },\r\n\r\n  create({description, completed, deleted}, successFn, errorFn){\r\n    let Todo = AV.Object.extend('Todo')\r\n    let todo = new Todo()\r\n    todo.set('description', description)\r\n    todo.set('completed', completed)\r\n    todo.set('deleted', deleted)\r\n    let acl = new AV.ACL()\r\n    acl.setPublicReadAccess(false)\r\n    acl.setWriteAccess(AV.User.current(), true)\r\n    acl.setReadAccess(AV.User.current(), true)\r\n    todo.setACL(acl);\r\n    todo.save().then(function (response) {\r\n      successFn.call(null, response.id)\r\n    }, function (error) {\r\n      errorFn && errorFn.call(null, error)\r\n    });\r\n  },\r\n\r\n  update({id, title, completed, deleted}, successFn, errorFn){\r\n    let todo = AV.Object.createWithoutData('Todo', id)\r\n    title !== undefined && todo.set('title', title)\r\n    completed !== undefined && todo.set('completed', completed)\r\n    deleted !== undefined && todo.set('deleted', deleted)\r\n    todo.save().then((response) => {\r\n      successFn && successFn.call(null)\r\n    }, (error) => errorFn && errorFn.call(null, error))\r\n  },\r\n\r\n  destroy(todoId, successFn, errorFn){\r\n    let todo = AV.Object.createWithoutData('Todo', todoId)\r\n    todo.destroy().then(function (response) {\r\n      successFn && successFn.call(null)\r\n    }, function (error) {\r\n      errorFn && errorFn.call(null, error)\r\n    });\r\n  }\r\n}\r\n\r\n\r\nexport function signUp(username, password,successFn, errorFn){\r\n  var user = new AV.User()\r\n  user.setUsername(username)\r\n  user.setPassword(password)\r\n  user.signUp().then(function (loginedUser) {\r\n    let user = getUserFromAVUser(loginedUser)\r\n    successFn.call(null, user)\r\n  }, function (error) {\r\n    errorFn.call(null, error)\r\n  })\r\n\r\n  return undefined\r\n}\r\n\r\nexport function signIn(username, password, successFn, errorFn){\r\n  AV.User.logIn(username, password).then(function (loginedUser) {\r\n    let user = getUserFromAVUser(loginedUser)\r\n    successFn.call(null, user)\r\n  }, function (error) {\r\n    errorFn.call(null, error)\r\n  })\r\n}\r\n\r\nexport function getCurrentUser(){\r\n  let user = AV.User.current()\r\n  if(user){\r\n    return getUserFromAVUser(user)\r\n  }else{\r\n    return null\r\n  }\r\n}\r\n\r\nexport function signOut(){\r\n  AV.User.logOut()\r\n  return undefined\r\n}\r\n\r\nfunction getUserFromAVUser(AVUser){\r\n  return {\r\n    id: AVUser.id,\r\n    ...AVUser.attributes\r\n  }\r\n}","import React from 'react'\r\nimport { Input, Button, } from 'antd';\r\nimport {signIn} from '../../config/leancloud'\r\n\r\nclass UserLogin extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      acount: \"\",\r\n      password: \"\",\r\n      email: \"\"\r\n    }\r\n  }\r\n\r\n  onChangeLogInUserName = (e) => {\r\n    this.setState({\r\n      acount: e.target.value\r\n    })\r\n  }\r\n\r\n  onChangeLogInPassword = (e) => {\r\n    this.setState({\r\n      password: e.target.value\r\n    })\r\n  }\r\n\r\n  signInSubmit = () => {\r\n    let {acount,password} = this.state\r\n    let success = (user)=>{\r\n      this.props.userSignIn(user)\r\n      console.log(user)\r\n    }\r\n    let error = (error)=>{\r\n      switch(error.code){\r\n        case 210:\r\n          alert('用户名与密码不匹配')\r\n          break\r\n        default:\r\n          alert(error)\r\n          break\r\n      }\r\n    }\r\n    signIn(acount,password,success,error)\r\n  } \r\n\r\n  render(){\r\n    const {acount,password} = this.state\r\n    return(\r\n      <div className=\"box logIn\">\r\n        <h1>ToDo-List</h1>\r\n        <Input placeholder=\"请输入用户名\" value={acount} onChange={this.onChangeLogInUserName}></Input>\r\n        <Input placeholder=\"请输入密码\" value={password} onChange={this.onChangeLogInPassword}></Input>\r\n        <Button block={true} type=\"primary\" onClick={this.signInSubmit}>登录</Button>\r\n        <p>若没有账号请 <span onClick={this.props.selectSignUp}>注册</span></p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserLogin","import React from 'react'\r\nimport { Input, Button, } from 'antd';\r\nimport {signUp} from '../../config/leancloud'\r\n\r\nclass UserLogUp extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      acount: \"\",\r\n      password: \"\",\r\n      email: \"\"\r\n    }\r\n  }\r\n\r\n  onChangeLogUpUserName = (e) => {\r\n    this.setState({\r\n      acount: e.target.value\r\n    })\r\n  }\r\n\r\n  onChangeLogUpPassword = (e) => {\r\n    this.setState({\r\n      password: e.target.value\r\n    })\r\n  }\r\n\r\n  signUpSubmit = () => {\r\n    let {acount,password} = this.state\r\n    let success = (user)=>{\r\n      this.props.userSignIn(user)\r\n    }\r\n    let error = (error)=>{\r\n      switch(error.code){\r\n        case 202:\r\n          alert('用户名已被占用')\r\n          break\r\n        default:\r\n          alert(error)\r\n          break\r\n      }\r\n    }\r\n    signUp(acount,password,success,error)\r\n  }\r\n\r\n  render(){\r\n    const {acount,password} = this.state\r\n    return(\r\n      <div className=\"box logUp\">\r\n        <h1>ToDo-List</h1>\r\n        <Input placeholder=\"请输入用户名\" value={acount} onChange={this.onChangeLogUpUserName}></Input>\r\n        <Input placeholder=\"请输入密码\" value={password} onChange={this.onChangeLogUpPassword}></Input>\r\n        <Button block={true} type=\"primary\" onClick={this.signUpSubmit}>注册</Button>\r\n        <p>若已有账号请 <span onClick={this.props.selectSignIn}>登录</span></p>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserLogUp","import React from 'react'\r\nimport UserLogin from './UserLogin'\r\nimport UserLogup from './UserLogup'\r\nimport './UserDiaLog.css'\r\n\r\nclass UserDiaLog extends React.Component {\r\n  constructor(props){\r\n    super(props)\r\n    this.state = {\r\n      selected: \"SignIn\"\r\n    }\r\n  }\r\n  selectSignUp = () => {\r\n    this.setState({\r\n      selected: \"SignUp\"\r\n    })\r\n  }\r\n  selectSignIn = () => {\r\n    this.setState({\r\n      selected: \"SignIn\"\r\n    })\r\n  }\r\n  render(){\r\n    return(\r\n      <div className=\"userdialog\">\r\n        {this.state.selected === 'SignIn' ? \r\n        <UserLogin userSignIn={this.props.userSignIn} selectSignUp={this.selectSignUp.bind(this)}/> : \r\n        <UserLogup userSignIn={this.props.userSignIn} selectSignIn={this.selectSignIn.bind(this)}/>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default UserDiaLog","import React from 'react';\nimport TodoInput from './component/todolist/TodoInput'\nimport TodoItem from './component/todolist/TodoItem'\nimport UserDialog from './component/UserDiaLog/UserDiaLog'\nimport './App.css'\nimport {getCurrentUser,signOut,todoModel} from './config/leancloud'\nimport {Icon} from 'antd'\n\nclass App extends React.Component {\n  constructor(props){\n    super(props)\n    this.state = {\n      user: getCurrentUser()||{},\n      todoList : [],\n      newTodo : \"\",\n      selected : \"doing\"\n    }\n    let user = getCurrentUser()\n    if (user) {\n      todoModel.getByUser(user, (todos) => {\n        let stateCopy = JSON.parse(JSON.stringify(this.state))\n        stateCopy.todoList = todos\n        this.setState(stateCopy)\n      })\n    }\n  }\n\n  inputValue = (e) => {\n    this.setState({newTodo: e.target.value})\n  }\n\n  addTodo = (e) => {\n    console.log(e)\n    let newTodo = {\n      description: e.target.value,\n      completed: false,\n      deleted: false\n    }\n    todoModel.create(newTodo,(id)=>{\n      newTodo.id = id\n      this.state.todoList.push(newTodo)\n      this.setState({\n        todoList: this.state.todoList,\n        newTodo: '',\n      })\n    },(error)=>{\n      console.log(error)\n    })\n  }\n\n  userSignIn = (user) => {\n    let stateCopy = JSON.parse(JSON.stringify(this.state)) \n    stateCopy.user = user\n    this.setState(stateCopy)\n  }\n\n  signOut = ()=>{\n    signOut()\n    let stateCopy = JSON.parse(JSON.stringify(this.state))\n    stateCopy.user = {}\n    this.setState(stateCopy)\n  }\n\n  get showTodo(){\n    return this.state.todoList.filter(t=> !t.deleted && !t.completed)\n  }\n\n  get showcompleteTodo(){\n    return this.state.todoList.filter(t=> !t.deleted && t.completed)\n  }\n\n  deleteTodo = (id)=>{\n    let stateCopy = JSON.parse(JSON.stringify(this.state))\n    let newtodos = stateCopy.todoList.map((t)=>{\n      if(t.id === id){\n        todoModel.update({id:t.id,deleted:true})\n        t.deleted = true\n        return t\n      }else{\n        return t\n      }\n    })\n    this.setState({todoList: newtodos})\n  }\n\n  completeTodo = (id)=>{\n    let stateCopy = JSON.parse(JSON.stringify(this.state))\n    let newtodos = stateCopy.todoList.map((t)=>{\n      if(t.id === id){\n        todoModel.update({id:t.id,completed:true})\n        t.completed = true\n        return t\n      }else{\n        return t\n      }\n    })\n    this.setState({todoList: newtodos})\n  }\n\n  render(){\n    let select = this.state.selected === \"doing\" ? this.showTodo : this.showcompleteTodo\n    let todo = select.map((todo,index) => {\n      return(\n        <li key={todo.id}>\n          <TodoItem todo={todo} deleteTodo={this.deleteTodo.bind(this)} completeTodo={this.completeTodo.bind(this)}/>\n        </li>\n      )\n    })\n\n    return(\n      <div className=\"App\">\n        {this.state.user.id ? null : <UserDialog userSignIn={this.userSignIn.bind(this)}/>}\n        {this.state.user.id ?  \n          <div id=\"todolist-container\">\n            <div className=\"header\">\n              <div className=\"logo\">lazzben To-Do</div>\n              <Icon className=\"logout\" type=\"logout\" onClick={this.signOut.bind(this)}/>\n            </div>\n            <div className=\"main\">\n              <div className=\"aside\">\n                <div className=\"user\">{this.state.user.username}的待办</div>\n                <div className=\"doing\" onClick={()=>this.setState({selected: \"doing\"})}><Icon type=\"clock-circle\" theme=\"twoTone\"/> 进行中</div>\n                <div className=\"completed\" onClick={()=>this.setState({selected: \"completed\"})}><Icon type=\"check-circle\" theme=\"twoTone\"/> 已完成</div>\n              </div>\n              <div className=\"todo\">\n                <TodoInput content={this.state.newTodo} inputValue={this.inputValue.bind(this)} onSubmit={this.addTodo.bind(this)}/>\n                <ul>\n                  {todo}\n                </ul>\n              </div>\n            </div>\n          </div> : \n          null}\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}